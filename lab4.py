def format_price(price):
    return f"{price:.2f} грн"

# створюємо словник з товарами: назва (ціна, наявність)
store = {
    "чай": (45, True),
    "кава": (89, True),
    "печиво": (35, False),
    "сік": (75, True)
}
# функція, яка рахує суму замовлення
def add(order):
    total = 0     # створюємо змінну для підрахунку ціни
    for item in order:    # перебираємо всі товари у замовленні
        total += store[item][0]     # додаємо ціну кожного товар
    print("Ціна:", format_price(total))   # виводимо загальну ціну


# функція, яка перевіряє наявність товарів
def mul(order):
    available = True                    # припускаємо, що все є в наявності
    for item in order:                  # перебираємо всі товари у замовленні
        if not store[item][1]:          # якщо хоч одного товару немає
            available = False           # тоді ставимо False (нема в наявності)
    return available                    # повертаємо результат (True або False)

# головна функція програми
def main():
    print("Ласкаво просимо до магазину!")   # привітання користувача

    while True:
        print("Доступні товари:", ", ".join(store.keys()))  # показуємо список товарів
        user_input = input("Введіть товари через кому або 'вихід': ").lower()  # вводимо замовлення

        if user_input == "вихід":
            print("Дякуємо за візит!")
            break

        order = []                          # список замовлених товарів
        for item in user_input.split(","):  # розділяємо введене по комах
            item = item.strip()             # забираємо пробіли
            if item in store:               # перевіряємо, чи є такий товар у магазині
                order.append(item)          # додаємо його до замовлення

        if not order:                       # якщо список замовлення пустий
            print("Неправильний вибір товарів")
            continue                        # переходимо на початок циклу

        if not mul(order):                  # перевіряємо наявність товарів
            print("Деяких товарів немає")
            continue                        # переходимо на початок циклу

        action = input("Введіть дію: 'переглянути ціну' або 'купити': ")  # вибір дії

        if action == "переглянути ціну":    # якщо користувач хоче переглянути ціну
            add(order)                      # рахуємо і показуємо вартість
            buy = input("Хочете купити? (так/ні): ")  # питаємо, чи купувати
            if buy == "так":
                print("Замовлення оформлено")   # підтверджуємо замовлення
        elif action == "купити":            # якщо одразу "купити"
            print("Замовлення оформлено")   # підтверджуємо замовлення
        else:                               # якщо написав щось інше
            print("Невідома дія")           # кажемо, що такої дії нема

# стандартна конструкція запуску програми
if name == "main":
    main()  # запускаємо головну функцію


