# -----------------------------
# Декоратор validate_positive
# -----------------------------
# Декоратор — це функція, яка приймає іншу функцію як аргумент
# і повертає нову функцію (обгортку), яка виконує додаткову логіку
def validate_positive(func):
    """
    Декоратор, який перевіряє, що всі числові аргументи функції є додатніми.
    Якщо хоча б один аргумент <= 0, викидає ValueError.
    """

    # -----------------------------
    # Внутрішня функція-обгортка
    # -----------------------------
    # wrapper буде виконуватися замість оригінальної функції func
    # *args — всі позиційні аргументи функції
    # **kwargs — всі іменовані аргументи функції
    def wrapper(*args, **kwargs):

        # -----------------------------
        # Об’єднуємо всі аргументи у один список
        # -----------------------------
        # list(args) — перетворює кортеж позиційних аргументів у список
        # list(kwargs.values()) — отримує значення всіх іменованих аргументів
        # Додаємо їх разом, щоб перевірити всі значення одночасно
        all_args = list(args) + list(kwargs.values())

        # -----------------------------
        # Перевіряємо кожен аргумент
        # -----------------------------
        for arg in all_args:
            # Якщо аргумент — число (int або float) і <= 0 → помилка
            if isinstance(arg, (int, float)) and arg <= 0:
                # Викидаємо виняток, щоб припинити виконання функції
                raise ValueError(f"Аргумент {arg} не є додатнім числом!")

            # Якщо аргумент не число — пропускаємо перевірку
            # (можна додати додаткову перевірку, якщо хочемо заборонити нечислові аргументи)

        # -----------------------------
        # Викликаємо оригінальну функцію
        # -----------------------------
        # Якщо всі перевірки пройдено, викликаємо func з оригінальними аргументами
        return func(*args, **kwargs)

    # -----------------------------
    # Повертаємо wrapper
    # -----------------------------
    # Тепер ім’я функції, яку ми декорували, буде вказувати на wrapper
    # Тобто при виклику multiply(...) фактично викликається wrapper(...)
    return wrapper
