# Імпортуємо наш декоратор із файлу decorator.py
# validate_positive — це функція-декоратор, яка перевіряє, що всі аргументи числові та додатні
from decorator import validate_positive

# -----------------------------
# Декоруємо функцію multiply
# -----------------------------
# Декоратор перевірятиме аргументи перед виконанням функції
@validate_positive
def multiply(a, b):
    # Функція повертає добуток двох чисел
    return a * b

# -----------------------------
# Декоруємо функцію add_three_numbers
# -----------------------------
# Цей декоратор дозволяє перевіряти аргументи для функцій із будь-якою кількістю параметрів
@validate_positive
def add_three_numbers(a, b, c):
    # Функція повертає суму трьох чисел
    return a + b + c

# -----------------------------
# Основний блок виконання
# -----------------------------
# Код у цьому блоці виконується тільки коли файл запускається напряму
# Якщо цей файл імпортувати з іншого файлу, код не виконається
if __name__ == "__main__":

    # -----------------------------
    # Викликаємо multiply з додатними числами
    # -----------------------------
    # Тут обидва аргументи (3 і 5) додатні, декоратор пропустить перевірку
    # Результат multiply(3, 5) буде 15
    print(multiply(3, 5))  # Очікуваний вивід: 15

    # -----------------------------
    # Викликаємо add_three_numbers з додатними числами
    # -----------------------------
    # Аргументи 2, 4, 8 всі додатні → декоратор пропускає
    # Результат add_three_numbers(2, 4, 8) буде 14
    print(add_three_numbers(2, 4, 8))  # Очікуваний вивід: 14

    # -----------------------------
    # Перевірка помилки при від’ємному числі
    # -----------------------------
    # Використовуємо try / except, щоб програма не аварійно завершилась
    try:
        # multiply(3, -2) → другий аргумент -2 не додатній
        # Декоратор validate_positive викине ValueError
        print(multiply(3, -2))
    except ValueError as e:
        # Виводимо повідомлення про помилку замість аварійного завершення програми
        # e містить текст помилки, який сформував декоратор
        print("Помилка:", e)

    # -----------------------------
    # Додаткові приклади (опційно)
    # -----------------------------
    # Виклик функції з нульовим значенням
    try:
        print(multiply(0, 5))  # 0 не є додатнім → викличе ValueError
    except ValueError as e:
        print("Помилка:", e)

    # Виклик функції з іменованими аргументами
    try:
        print(add_three_numbers(a=2, b=3, c=-1))  # -1 не додатнє → помилка
    except ValueError as e:
        print("Помилка:", e)

    # Виклик функції з дійсними числами (float)
    print(multiply(2.5, 4.0))  # Результат 10.0
